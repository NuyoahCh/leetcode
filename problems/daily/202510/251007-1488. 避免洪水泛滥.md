# 官方链接
https://leetcode.cn/problems/avoid-flood-in-the-city/description/?envType=daily-question&envId=2025-10-07

## 题解
https://leetcode.cn/problems/avoid-flood-in-the-city/solutions/3799605/gomei-ri-yi-ti-by-code-review-c1z8/

## Code
```go
func avoidFlood(rains []int) []int {
    n := len(rains)
    ans := make([]int, n)
    st := []int{} 
    mp := make(map[int]int)
    for i := 0; i < n; i++ {
        ans[i] = 1
    }
    for i, rain := range rains {
        if rain == 0 {
            st = append(st, i)
        } else {
            ans[i] = -1
            if day, ok := mp[rain]; ok {
                it := sort.SearchInts(st, day)
                if it == len(st) {
                    return []int {}
                }
                ans[st[it]] = rain
                copy(st[it : len(st) - 1], st[it + 1 : len(st)])
                st = st[: len(st) - 1]
            }
            mp[rain] = i
        }
    }
    return ans
}
```