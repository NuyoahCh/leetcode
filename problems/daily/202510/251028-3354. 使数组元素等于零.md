# 官方链接
https://leetcode.cn/problems/make-array-elements-equal-to-zero/description/?envType=daily-question&envId=2025-10-28

## 题解
https://leetcode.cn/problems/make-array-elements-equal-to-zero/solutions/3817201/gomei-ri-yi-ti-by-code-review-mc6c

## Code
```go
func countValidSelections(nums []int) int {
	count, nonZeros, n := 0, 0, len(nums)
	for _, x := range nums {
		if x > 0 {
			nonZeros++
		}
	}
	for i := 0; i < n; i++ {
		if nums[i] == 0 {
			if isValid(nums, nonZeros, i, -1) {
				count++
			}
			if isValid(nums, nonZeros, i, 1) {
				count++
			}
		}
	}
	return count
}

func isValid(nums []int, nonZeros, start, direction int) bool {
	temp := make([]int, len(nums))
	copy(temp, nums)
	curr := start
	for nonZeros > 0 && curr >= 0 && curr < len(nums) {
		if temp[curr] > 0 {
			temp[curr]--
			direction *= -1
			if temp[curr] == 0 {
				nonZeros--
			}
		}
		curr += direction
	}
	return nonZeros == 0
}
```